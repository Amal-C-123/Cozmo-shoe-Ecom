<div class="breadcrumb-area bg-gray ">
    <div class="container pb-0">
        <div class="breadcrumb-content text-center">
            <h4>Account</h4>
        </div>
    </div>
</div>




<!-- my account wrapper start -->
<div class="my-account-wrapper pt-120 pb-120">
    <div class="container pt-0">
        <div class="mb-3 text-center">

            {{#if change}}

            <label class="text-success " for="">Your Profile Edited Successfully</label>

            {{/if}}

            {{#if passwordSuccess}}
            <label class="text-success" for="">Password Changed Successfully</label>
            {{/if}}

            {{#if resetEr}}
            <label class="text-danger" for="">Your Current Password Is Incorrect</label>
            {{/if}}

            {{#if passwordMatchEr}}
            <label class="text-danger" for="">New Password And Confirm Password Doesn't Match</label>
            {{/if}}
        </div>

        <div class="row">
            <div class="col-lg-12">
                <!-- My Account Page Start -->
                <div class="myaccount-page-wrapper mt-2">
                    <!-- My Account Tab Menu Start -->
                    <div class="row">
                        <div class="col-lg-3 col-md-4">
                            <div class="myaccount-tab-menu nav nav-tabs" role="tablist">
                                <button href="#dashboad" class="nav-link active" data-bs-toggle="tab"><i class="fa fa-dashboard"></i>
                                     Dashboard</button>
                                {{!-- <a href="#orders" data-bs-toggle="tab"><i class="fa fa-cart-arrow-down"></i>Orders</a> --}}
                                {{!-- <a href="#download" data-bs-toggle="tab"><i class="fa fa-cloud-download"></i>
                                    Download</a>
                                <a href="#payment-method" data-bs-toggle="tab"><i class="fa fa-credit-card"></i> Payment
                                    Method</a> --}}
                                <a class="nav-link" href="#account-info" data-bs-toggle="tab"><i class="fa fa-user"></i> Account
                                    Details</a>

                                <a class="nav-link" href="#address-edit" data-bs-toggle="tab"><i class="fa fa-map-marker"></i> Edit
                                    Profile</a>

                                <a class="nav-link" href="#address-add" data-bs-toggle="tab"><i class="fa fa-map-marker"></i> Add
                                    Address</a>


                            </div>
                        </div>
                        <!-- My Account Tab Menu End -->
                        <!-- My Account Tab Content Start -->



                        <div class="col-lg-9 col-md-8 mb-5 mt-2 ">
                            <div class="tab-content" id="myaccountContent">
                                <!-- Single Tab Content Start -->

                                {{!-- -------------------------dash board---------------------- --}}


                                <div class="tab-pane fade show active" id="dashboad" role="tabpanel">
                                    <div class="myaccount-content pb-5">
                                        <h3>Dashboard</h3>
                                        <div class="welcome">
                                            <p>Hello, <strong> {{userLog.username}}</strong></p>
                                        </div>

                                        <p class="mb-0">From your account dashboard. you can easily check & view your
                                            recent orders, manage your shipping and billing addresses and edit your
                                            password and account details.</p>
                                    </div>
                                </div>

                                <!-- Single Tab Content End -->
                                <!-- Single Tab Content Start -->


                                {{!-- ------------------- order details -------------------------------- --}}
                                <div class="tab-pane fade" id="orders" role="tabpanel">
                                    <div class="myaccount-content">
                                        <h3>Orders</h3>
                                        <div class="myaccount-table table-responsive text-center">
                                            <table class="table table-bordered">
                                                <thead class="thead-light">
                                                    <tr>

                                                        <th>Date</th>
                                                        <th>Address</th>
                                                        <th>Amount</th>
                                                        <th>Payment Method</th>
                                                        <th>Status</th>
                                                        <th>Action</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {{#each orders}}
                                                    <tr>
                                                        <td>{{this.date}}</td>
                                                        <td>{{this.address.Housename}}
                                                            <br>
                                                            {{this.address.Streetname}}
                                                            <br>
                                                            {{this.address.State}}
                                                            <br>
                                                            {{this.address.Pin}}
                                                        </td>

                                                        <td>{{this.totalAmount}}</td>
                                                        <td>{{this.paymentMethod}}</td>
                                                        <td>{{this.status}}</td>

                                                        <td>
                                                            {{#if this.cancel}}

                                                            {{else}}
                                                            <a class="btn btn-danger w-100"
                                                                href="/cancelorder/{{this._id}}">Cancel</a><br>
                                                            {{/if}}

                                                            {{#if this.return}}
                                                            <a class="btn btn-success w-100"
                                                                href="/cancelorder/{{this._id}}">Return</a><br>
                                                            {{/if}}

                                                            <a class=" mt-1 btn btn-primary w-100"
                                                                href="/view-order-products/{{this._id}}">View</a>
                                                        </td>
                                                    </tr>

                                                    {{/each}}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>



                                {{!-- --------------------------edit profile-------------------- --}}

                                <div class="tab-pane fade" id="address-edit" role="tabpanel">
                                    <div class="myaccount-content">
                                        <legend class="h5"><small>Edit Details</small></legend>
                                        <hr style="">
                                        <div class="account-details-form">
                                            <form action="/editprofile" method="post">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <div class="single-input-item">
                                                            <label for="first-name" class="required">Name</label>
                                                            <input type="text" id="Name" name="Name"
                                                                onkeyup="validatecName()" />
                                                                <label class="text-danger" id="nameEr" for=""></label>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="single-input-item">
                                                            
                                                            <label for="last-name" class="required">Phone</label>
                                                            <input type="number" id="Phone" name="Phone"
                                                                onkeyup="validatecPhone()" />
                                                                <label class="text-danger" id="phoneEr" for=""></label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="single-input-item">
                                                    
                                                    <label for="email" class="required">Email Addres</label>
                                                    <input type="email" id="Email" name="Email"
                                                        onkeyup="validatecEmail()" />
                                                    <label class="text-danger" id="emailEr" for=""></label>    
                                                </div>

                                                <div class="single-input-item">
                                                    <button class="check-btn sqr-btn "
                                                        onclick="return validateEform()">Save Changes</button>

                                                </div>

                                                <label class="text-danger" id="submitEr" for=""></label>
                                            </form>


                                            {{!-- -----------------------change password--------------------- --}}

                                            <form action="/resetpassword" method="post" class="mt-3">
                                                <fieldset>

                                                    <legend>Password change</legend>
                                                    <div class="single-input-item">
                                                        <label for="current-pwd" class="required">Current
                                                            Password</label>
                                                        
                                                        <input type="password" id="currentpassword"
                                                            name="Currentpassword"
                                                            onkeyup="validateCurrentPassword()" />
                                                        <label for="" class="text-danger"
                                                            id="currentpasswordEr"></label>    
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <div class="single-input-item">
                                                                <label for="new-pwd" class="required">New
                                                                    Password</label>
                                                                
                                                                <input type="password" id="newpassword"
                                                                    name="Newpassword"
                                                                    onkeyup="validateNewPassword()" />
                                                                <label for="" class="text-danger"
                                                                    id="newpasswordEr"></label>    
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="single-input-item">
                                                                <label for="confirm-pwd" class="required">Confirm
                                                                    Password</label>
                                                                
                                                                <input type="password" id="confirmpassword"
                                                                    name="Confirmpassword"
                                                                    onkeyup="validateConfirmPassword()" />

                                                                <label for="" class="text-danger"
                                                                    id="confirmpasswordEr"></label>     
                                                            </div>
                                                        </div>
                                                    </div>
                                                </fieldset>

                                                <div class="single-input-item">
                                                    <button class="check-btn sqr-btn "
                                                        onclick="return validatePform()">Save Changes</button>
                                                </div>

                                                <label for="" id="passwordsubmitEr"></label>
                                            </form>
                                        </div>


                                    </div>
                                </div>

                                {{!-- ------------------------------add address------------------------------- --}}

                                <div class="tab-pane fade" id="address-add" role="tabpanel">
                                    <div class="myaccount-content">

                                        <div class="account-details-form">
                                            <form action="/addaddress" method="post">
                                                <div class="row">

                                                    <div class="col-lg-6">
                                                        <div class="single-input-item">
                                                            
                                                            <label for="" class="required">House Name</label>
                                                            <input type="text" id="address" name="Housename"
                                                                onkeyup="validatecAddress()" />
                                                            <label class="text-danger" id="caddress-error"
                                                                for=""></label>    
                                                        </div>
                                                    </div>

                                                    <div class="col-lg-6">
                                                        <div class="single-input-item">
                                                            
                                                            <label for="" class="required">Street</label>
                                                            <input type="text" id="town" name="Streetname"
                                                                onkeyup="validatecTown()" />
                                                            <label id="ctown-error" class="text-danger" for=""></label>    
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="single-input-item">
                                                    
                                                    <label for="" class="required">State</label>
                                                    <input type="text" id="state" name="State"
                                                        onkeyup="validatecState()" />
                                                    <label for="" class="text-danger" id="cstate-error"></label>    
                                                </div>

                                                <div class="single-input-item">
                                                    <label for="" class="required">Pin</label>
                
                                                    <input type="number" id="pincode" name="Pin"
                                                        onkeyup="validatecPin()" />
                                                    <label class="text-danger" id="cpincode-error" for=""></label>    
                                                </div>

                                                <div class="single-input-item">
                                                    <button class="check-btn sqr-btn" type="submit"
                                                        onclick="return validatecform()">Save Changes</button>
                                                </div>

                                                <label class="text-danger" id="addresssubmitEr" for=""></label>
                                            </form>
                                        </div>


                                    </div>
                                </div>
                                <!-- Single Tab Content End -->
                                <!-- Single Tab Content Start -->

                                <div class="tab-pane fade" id="account-info" role="tabpanel">
                                    <div class="myaccount-content">
                                        <h3>Account Details</h3>
                                        <div class="account-details-form d-flex justify-content-evenley ">
                                            <div>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="single-input-item d-flex">
                                                            <label for="first-name"
                                                                class="required text-danger" style="margin-right: 8px;">Name: </label>
                                                            <small class="text-muted" > {{userLog.username}}</small>
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="single-input-item d-flex justify-content-between">
                                                    <label for="email" class="required text-danger" style="margin-right: 8px;">Email Addres</label>
                                                    <small class="text-muted" > {{userLog.Email}}</small>
                                                </div>
                                                <div class="single-input-item d-flex">
                                                    <label for="email" class="required text-danger" style="margin-right: 8px;">Phone</label>
                                                    <small class="text-muted" > {{userLog.Phone}}</small>
                                                </div>
                                                 <div class="single-input-item d-flex">
                                                    <label for="email" class="required text-danger"style="margin-right: 8px;">Your Refferal Code</label>
                                                    <small class="text-muted" > {{userLog.userReferralCode}}</small>
                                                </div>
                                                 <div class="single-input-item d-flex">
                                                    <label for="email" class="required text-danger"style="margin-right: 8px;">Wallet
                                                        Amount</label>
                                                    <small class="text-muted" >{{walletDetails.wallet}}</small>
                                                </div>
                                                
                                            </div>
                                            <div class=" ms-5 ">

                                                <div class="single-input-item d-flex">
                                                    <label for="email" class="required text-danger" style="margin-right: 8px;">Address:</label>
                                                    <div>
                                                    {{#each userAddress}}
                                                    <small class="text-muted"><i class="fa fa-map-marker" ></i> {{this.addressDetail.Housename}}, {{this.addressDetail.Streetname}},
                                                  {{this.addressDetail.State}}, {{this.addressDetail.Pin}}
                                                    </small>       
                                                    {{!-- <a href="/editaddress/{{this._id}}" class="text-primary">Edit
                                                        Address</a>  --}}
                                                        <br>
                                                    {{/each}}
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div> <!-- Single Tab Content End -->
                            </div>
                        </div> <!-- My Account Tab Content End -->
                    </div>
                </div> <!-- My Account Page End -->
            </div>
        </div>
    </div>
</div>

</div>

