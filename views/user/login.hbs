<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cozmo</title>

     <!--== Favicon ==-->
      <link
        rel="shortcut icon"
        href="/user-assets/img/favicon.ico"
        type="image/x-icon"
      />

      <!--== Google Fonts ==-->
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,600;0,700;0,800;1,400;1,500&display=swap"
        rel="stylesheet"
      />

      <!--== Bootstrap CSS ==-->
      <link href="/user-assets/css/bootstrap.min.css" rel="stylesheet" />
      <!--== Font Awesome Min Icon CSS ==-->
      <link href="/user-assets/css/font-awesome.min.css" rel="stylesheet" />
      <!--== Pe7 Stroke Icon CSS ==-->
      <link href="/user-assets/css/pe-icon-7-stroke.css" rel="stylesheet" />
      <!--== Swiper CSS ==-->
      <link href="/user-assets/css/swiper.min.css" rel="stylesheet" />
      <!--== Fancybox Min CSS ==-->
      <link href="/user-assets/css/fancybox.min.css" rel="stylesheet" />
      <!--== Aos Min CSS ==-->
      <link href="/user-assets/css/aos.min.css" rel="stylesheet" />

      <!--== Main Style CSS ==-->
      <link href="/user-assets/css/style.css" rel="stylesheet" />

      <style>
        
      </style> 



  <body>
    <section class="account-area mt-5">
    <div class="container">
      <div class="row">
        <div class="col-sm-8 m-auto">
          <div class="section-title text-center">
            <h2 class="title">Login</h2>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <div class="login-form-content">
            <form
              action="/login"
              method="POST"
              onsubmit="return(validateLogin())"
            >
              <p id="submit-error" style="color: red;"></p>
              {{#if loginErr}}
                <p style="color: red;">Invalid username or password</p>
              {{/if}}
              {{#if blocked}}
                <p class="error text-center" style="color: red;">Your account is
                  blocked</p>
              {{/if}}
              {{#if notLogged}}
                <p
                  class="error text-center"
                  style="color: red;"
                >{{notLogged}}</p>

              {{/if}}
              <div class="row">
                <div class="col-12">
                  <div class="form-group">
                    <label for="username">
                      Email address
                      <span class="required">*</span></label>
                    <input
                      id="email"
                      name="Email"
                      class="form-control"
                      type="email"
                      onchange="validateEmail()"
                    />
                    <p id="email-error" style="color: red;"></p>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-group">
                    <label for="password">Password
                      <span class="required">*</span></label>
                    <input
                      id="password"
                      name="Password"
                      class="form-control"
                      type="password"
                    />
                    <p id="password-error" style="color: red;"></p>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-group">
                    <button type="submit" class="btn-login">Login</button>
                  </div>
                </div>
                <div class="col-12">
                  <div class="form-group account-info-group mb--0">

                    <a
                      href="/signup"
                      class="text-secondary"
                      style="width: fit-content; text-decoration: none;"
                    >Create new account</a>
                    <br />
                    <a
                      href="/otp-login"
                      class="text-secondary"
                      style="width: fit-content; text-decoration: none;"
                    >Login using phone number</a>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  </body>
  
  <!--== End My Account Area Wrapper ==-->
</main>

<script>
  var emailError = document.getElementById('email-error'); 
  var passwordError = document.getElementById('password-error');
    var submitError = document.getElementById('submit-error');

  function validateEmail(){
     var email = document.getElementById('email').value;

      if (email.length == 0) {
        emailError.innerHTML = "Email is required";
        return false;
      }

   if (!email.match(/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/)) {
        emailError.innerHTML = "Email is invalid";
        return false;
      }

      emailError.innerHTML = ""
      return true
    }

  function validatePassword(){
    var password = document.getElementById('password').value; 

    if (password.length == 0) {
        passwordError.innerHTML = "Password is required";
        return false;

      }

     if (password.length < 3) {
        passwordError.innerHTML = "Password must be atleast 3 characters ";
        return false;
      }
        passwordError.innerHTML = ''
        return true      
    }  
  


  function validateLogin(){

      if (!validateEmail() ||  !validatePassword()) {
        submitError.innerHTML = 'Please fill the form properly';
        return false;
      }

  }
</script>